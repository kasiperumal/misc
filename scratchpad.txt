extends: []

rules:
  camel-case-properties:
    description: "Property names should be camelCase"
    message: "Property '{{property}}' is not camelCase"
    severity: error
    given: "$.properties"
    then:
      field: "@key"
      function: pattern
      functionOptions:
        match: "^[a-z]+([A-Z][a-z0-9]*)*$"



spectral lint --ruleset ruleset.yaml schema.json

find . -name "*.json" -print0 | xargs -0 spectral lint --ruleset ruleset.yaml
for /R %f in (*.json) do spectral lint "%f" --ruleset ruleset.yaml --format json


for /R %%f in (*.json) do (
  spectral lint "%%f" --ruleset ruleset.yaml | find "error" > temp-error.txt
  if %errorlevel%==0 (
    echo ==== %%f ==== >> spectral-errors.txt
    type temp-error.txt >> spectral-errors.txt
    echo. >> spectral-errors.txt
  )
)
del temp-error.txt

